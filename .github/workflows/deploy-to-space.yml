name: Sync HF folder to Hugging Face Space

on:
Â  push:
Â  Â  branches:
Â  Â  Â  - main
Â  Â  paths:
Â  Â  Â  - 'HF/**' Â # åªåœ¨ HF è³‡æ–™å¤¾åŠå…¶å­æª”æ¡ˆè®Šå‹•æ™‚è§¸ç™¼

jobs:
Â  deploy:
Â  Â  runs-on: ubuntu-latest
Â  Â  steps:
Â  Â  Â  - name: Checkout repository
Â  Â  Â  Â  uses: actions/checkout@v3
Â  Â  Â  Â  with:
Â  Â  Â  Â  Â  fetch-depth: 0

Â  Â  Â  - name: Debug - list repo files
Â  Â  Â  Â  run: |
Â  Â  Â  Â  Â  echo "ğŸ“‚ Repository root:"
Â  Â  Â  Â  Â  ls -la
Â  Â  Â  Â  Â  echo "ğŸ“‚ HF folder:"
Â  Â  Â  Â  Â  ls -la HF || echo "âš ï¸ HF is missing or empty"

Â  Â  Â  - name: Push HF folder to Hugging Face
Â  Â  Â  Â  env:
Â  Â  Â  Â  Â  HF_TOKEN: ${{ secrets.HF_TOKEN }}
Â  Â  Â  Â  run: |
Â  Â  Â  Â  Â  cd HF
Â  Â  Â  Â  Â  git init
Â  Â  Â  Â  Â  git config --global user.email "github-actions[bot]@users.noreply.github.com"
Â  Â  Â  Â  Â  git config --global user.name "github-actions[bot]"
Â  Â  Â  Â  Â  git remote add space https://user:$HF_TOKEN@huggingface.co/spaces/2hf2hf/deploy
Â  Â  Â  Â  Â  git checkout -b main
Â  Â  Â  Â  Â  git add .
Â  Â  Â  Â  Â  git commit -m "Deploy HF folder only"
Â  Â  Â  Â  Â  git push --force space main

